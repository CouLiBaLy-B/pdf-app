#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Vérification du code avant commit..."

# Linting
echo "📝 ESLint..."
cd server && npm run lint

# Tests
echo "🧪 Tests unitaires..."
npm test

# Vérification de sécurité
echo "🔒 Audit de sécurité..."
npm audit --audit-level moderate

# Formatage du code
echo "✨ Formatage du code..."
npm run format

echo "✅ Vérifications terminées avec succès!"
